{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/transactions.service\";\nimport * as i2 from \"../../core/services/accounts.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction TransactionsComponent_div_23_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const a_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", a_r5.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(a_r5.name);\n  }\n}\nfunction TransactionsComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"label\", 5);\n    i0.ɵɵtext(2, \"Account\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function TransactionsComponent_div_23_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.newTransaction.account_id = $event);\n    });\n    i0.ɵɵelementStart(4, \"option\", 7);\n    i0.ɵɵtext(5, \"Select Account\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TransactionsComponent_div_23_option_6_Template, 2, 2, \"option\", 21);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newTransaction.account_id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.accounts);\n  }\n}\nfunction TransactionsComponent_div_24_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const a_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", a_r10.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(a_r10.name);\n  }\n}\nfunction TransactionsComponent_div_24_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const a_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", a_r11.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(a_r11.name);\n  }\n}\nfunction TransactionsComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4)(2, \"label\", 5);\n    i0.ɵɵtext(3, \"From Account\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function TransactionsComponent_div_24_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newTransaction.from_account_id = $event);\n    });\n    i0.ɵɵelementStart(5, \"option\", 7);\n    i0.ɵɵtext(6, \"Select Account\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, TransactionsComponent_div_24_option_7_Template, 2, 2, \"option\", 21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 4)(9, \"label\", 5);\n    i0.ɵɵtext(10, \"To Account\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"select\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function TransactionsComponent_div_24_Template_select_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.newTransaction.to_account_id = $event);\n    });\n    i0.ɵɵelementStart(12, \"option\", 7);\n    i0.ɵɵtext(13, \"Select Account\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, TransactionsComponent_div_24_option_14_Template, 2, 2, \"option\", 21);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newTransaction.from_account_id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.accounts);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newTransaction.to_account_id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.accounts);\n  }\n}\nfunction TransactionsComponent_span_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.error);\n  }\n}\nfunction TransactionsComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 27);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 28);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 29);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const t_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, t_r15.type));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(t_r15.category || \"Uncategorized\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 6, t_r15.amount));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(t_r15.notes);\n  }\n}\nexport class TransactionsComponent {\n  constructor(tx, accountsService) {\n    this.tx = tx;\n    this.accountsService = accountsService;\n    this.transactions = [];\n    this.accounts = [];\n    this.newTransaction = {\n      type: '',\n      amount: 0,\n      account_id: '',\n      from_account_id: '',\n      to_account_id: '',\n      category: '',\n      notes: ''\n    };\n    this.loading = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.loadTransactions();\n    this.loadAccounts();\n  }\n  loadTransactions() {\n    this.tx.list().subscribe(list => this.transactions = list);\n  }\n  loadAccounts() {\n    this.accountsService.list().subscribe(list => this.accounts = list);\n  }\n  addTransaction() {\n    if (!this.newTransaction.type || !this.newTransaction.amount) {\n      this.error = 'Type and amount are required';\n      return;\n    }\n    if (this.newTransaction.type !== 'transfer' && !this.newTransaction.account_id) {\n      this.error = 'Please select an account';\n      return;\n    }\n    if (this.newTransaction.type === 'transfer' && (!this.newTransaction.from_account_id || !this.newTransaction.to_account_id)) {\n      this.error = 'Please select both accounts for transfer';\n      return;\n    }\n    this.loading = true;\n    this.error = '';\n    this.tx.create(this.newTransaction).subscribe({\n      next: () => {\n        this.newTransaction = {\n          type: '',\n          amount: 0,\n          account_id: '',\n          from_account_id: '',\n          to_account_id: '',\n          category: '',\n          notes: ''\n        };\n        this.loading = false;\n        this.loadTransactions();\n        this.loadAccounts();\n      },\n      error: err => {\n        this.error = err.error?.message || 'Failed to add transaction';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function TransactionsComponent_Factory(t) {\n      return new (t || TransactionsComponent)(i0.ɵɵdirectiveInject(i1.TransactionsService), i0.ɵɵdirectiveInject(i2.AccountsService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TransactionsComponent,\n      selectors: [[\"app-transactions\"]],\n      decls: 40,\n      vars: 10,\n      consts: [[1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"name\", \"type\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [\"value\", \"income\"], [\"value\", \"expense\"], [\"value\", \"transfer\"], [\"type\", \"number\", \"name\", \"amount\", \"step\", \"0.01\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [4, \"ngIf\"], [\"type\", \"text\", \"name\", \"category\", \"placeholder\", \"e.g., Groceries, Salary\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"notes\", \"rows\", \"2\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"text-danger ms-2\", 4, \"ngIf\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"account_id\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"name\", \"from_account_id\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"to_account_id\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [1, \"text-danger\", \"ms-2\"], [1, \"list-group-item\"], [1, \"badge\", \"bg-secondary\", \"ms-2\"], [1, \"float-end\"], [1, \"small\", \"text-muted\"]],\n      template: function TransactionsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\");\n          i0.ɵɵtext(1, \"Transactions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1);\n          i0.ɵɵtext(4, \"Add New Transaction\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 2)(6, \"form\", 3);\n          i0.ɵɵlistener(\"ngSubmit\", function TransactionsComponent_Template_form_ngSubmit_6_listener() {\n            return ctx.addTransaction();\n          });\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\n          i0.ɵɵtext(9, \"Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"select\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function TransactionsComponent_Template_select_ngModelChange_10_listener($event) {\n            return ctx.newTransaction.type = $event;\n          });\n          i0.ɵɵelementStart(11, \"option\", 7);\n          i0.ɵɵtext(12, \"Select Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"option\", 8);\n          i0.ɵɵtext(14, \"Income\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"option\", 9);\n          i0.ɵɵtext(16, \"Expense\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"option\", 10);\n          i0.ɵɵtext(18, \"Transfer\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 5);\n          i0.ɵɵtext(21, \"Amount\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function TransactionsComponent_Template_input_ngModelChange_22_listener($event) {\n            return ctx.newTransaction.amount = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(23, TransactionsComponent_div_23_Template, 7, 2, \"div\", 12);\n          i0.ɵɵtemplate(24, TransactionsComponent_div_24_Template, 15, 4, \"div\", 13);\n          i0.ɵɵelementStart(25, \"div\", 4)(26, \"label\", 5);\n          i0.ɵɵtext(27, \"Category\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"input\", 14);\n          i0.ɵɵlistener(\"ngModelChange\", function TransactionsComponent_Template_input_ngModelChange_28_listener($event) {\n            return ctx.newTransaction.category = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(29, \"div\", 4)(30, \"label\", 5);\n          i0.ɵɵtext(31, \"Notes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"textarea\", 15);\n          i0.ɵɵlistener(\"ngModelChange\", function TransactionsComponent_Template_textarea_ngModelChange_32_listener($event) {\n            return ctx.newTransaction.notes = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"button\", 16);\n          i0.ɵɵtext(34);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(35, TransactionsComponent_span_35_Template, 2, 1, \"span\", 17);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(36, \"h3\");\n          i0.ɵɵtext(37, \"Recent Transactions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 18);\n          i0.ɵɵtemplate(39, TransactionsComponent_div_39_Template, 11, 8, \"div\", 19);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngModel\", ctx.newTransaction.type);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngModel\", ctx.newTransaction.amount);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.newTransaction.type !== \"transfer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.newTransaction.type === \"transfer\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.newTransaction.category);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.newTransaction.notes);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Adding...\" : \"Add Transaction\", \" \");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.transactions);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i3.TitleCasePipe, i3.CurrencyPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","a_r5","id","ɵɵadvance","ɵɵtextInterpolate","name","ɵɵlistener","TransactionsComponent_div_23_Template_select_ngModelChange_3_listener","$event","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","newTransaction","account_id","ɵɵtemplate","TransactionsComponent_div_23_option_6_Template","ctx_r0","accounts","a_r10","a_r11","TransactionsComponent_div_24_Template_select_ngModelChange_4_listener","_r13","ctx_r12","from_account_id","TransactionsComponent_div_24_option_7_Template","TransactionsComponent_div_24_Template_select_ngModelChange_11_listener","ctx_r14","to_account_id","TransactionsComponent_div_24_option_14_Template","ctx_r1","ctx_r2","error","ɵɵpipeBind1","t_r15","type","category","amount","notes","TransactionsComponent","constructor","tx","accountsService","transactions","loading","ngOnInit","loadTransactions","loadAccounts","list","subscribe","addTransaction","create","next","err","message","console","ɵɵdirectiveInject","i1","TransactionsService","i2","AccountsService","selectors","decls","vars","consts","template","TransactionsComponent_Template","rf","ctx","TransactionsComponent_Template_form_ngSubmit_6_listener","TransactionsComponent_Template_select_ngModelChange_10_listener","TransactionsComponent_Template_input_ngModelChange_22_listener","TransactionsComponent_div_23_Template","TransactionsComponent_div_24_Template","TransactionsComponent_Template_input_ngModelChange_28_listener","TransactionsComponent_Template_textarea_ngModelChange_32_listener","TransactionsComponent_span_35_Template","TransactionsComponent_div_39_Template","ɵɵtextInterpolate1"],"sources":["C:\\development\\money_flow\\frontend\\src\\app\\pages\\transactions\\transactions.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { TransactionsService } from '../../core/services/transactions.service';\r\nimport { AccountsService } from '../../core/services/accounts.service';\r\n\r\n@Component({\r\n  selector: 'app-transactions',\r\n  template: `\r\n    <h1>Transactions</h1>\r\n    \r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-header\">Add New Transaction</div>\r\n      <div class=\"card-body\">\r\n        <form (ngSubmit)=\"addTransaction()\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">Type</label>\r\n            <select class=\"form-select\" [(ngModel)]=\"newTransaction.type\" name=\"type\" required>\r\n              <option value=\"\">Select Type</option>\r\n              <option value=\"income\">Income</option>\r\n              <option value=\"expense\">Expense</option>\r\n              <option value=\"transfer\">Transfer</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">Amount</label>\r\n            <input type=\"number\" class=\"form-control\" [(ngModel)]=\"newTransaction.amount\" name=\"amount\" step=\"0.01\" required>\r\n          </div>\r\n\r\n          <div class=\"mb-3\" *ngIf=\"newTransaction.type !== 'transfer'\">\r\n            <label class=\"form-label\">Account</label>\r\n            <select class=\"form-select\" [(ngModel)]=\"newTransaction.account_id\" name=\"account_id\" required>\r\n              <option value=\"\">Select Account</option>\r\n              <option *ngFor=\"let a of accounts\" [value]=\"a.id\">{{ a.name }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div *ngIf=\"newTransaction.type === 'transfer'\">\r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label\">From Account</label>\r\n              <select class=\"form-select\" [(ngModel)]=\"newTransaction.from_account_id\" name=\"from_account_id\" required>\r\n                <option value=\"\">Select Account</option>\r\n                <option *ngFor=\"let a of accounts\" [value]=\"a.id\">{{ a.name }}</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label\">To Account</label>\r\n              <select class=\"form-select\" [(ngModel)]=\"newTransaction.to_account_id\" name=\"to_account_id\" required>\r\n                <option value=\"\">Select Account</option>\r\n                <option *ngFor=\"let a of accounts\" [value]=\"a.id\">{{ a.name }}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">Category</label>\r\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"newTransaction.category\" name=\"category\" placeholder=\"e.g., Groceries, Salary\">\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">Notes</label>\r\n            <textarea class=\"form-control\" [(ngModel)]=\"newTransaction.notes\" name=\"notes\" rows=\"2\"></textarea>\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loading\">\r\n            {{ loading ? 'Adding...' : 'Add Transaction' }}\r\n          </button>\r\n          <span *ngIf=\"error\" class=\"text-danger ms-2\">{{ error }}</span>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n    <h3>Recent Transactions</h3>\r\n    <div class=\"list-group\">\r\n      <div class=\"list-group-item\" *ngFor=\"let t of transactions\">\r\n        <strong>{{ t.type | titlecase }}</strong>\r\n        <span class=\"badge bg-secondary ms-2\">{{ t.category || 'Uncategorized' }}</span>\r\n        <span class=\"float-end\">{{ t.amount | currency }}</span>\r\n        <div class=\"small text-muted\">{{ t.notes }}</div>\r\n      </div>\r\n    </div>\r\n  `,\r\n})\r\nexport class TransactionsComponent implements OnInit {\r\n  transactions: any[] = [];\r\n  accounts: any[] = [];\r\n  newTransaction = {\r\n    type: '',\r\n    amount: 0,\r\n    account_id: '',\r\n    from_account_id: '',\r\n    to_account_id: '',\r\n    category: '',\r\n    notes: '',\r\n  };\r\n  loading = false;\r\n  error = '';\r\n\r\n  constructor(\r\n    private tx: TransactionsService,\r\n    private accountsService: AccountsService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.loadTransactions();\r\n    this.loadAccounts();\r\n  }\r\n\r\n  loadTransactions() {\r\n    this.tx.list().subscribe((list) => (this.transactions = list));\r\n  }\r\n\r\n  loadAccounts() {\r\n    this.accountsService.list().subscribe((list) => (this.accounts = list));\r\n  }\r\n\r\n  addTransaction() {\r\n    if (!this.newTransaction.type || !this.newTransaction.amount) {\r\n      this.error = 'Type and amount are required';\r\n      return;\r\n    }\r\n\r\n    if (\r\n      this.newTransaction.type !== 'transfer' &&\r\n      !this.newTransaction.account_id\r\n    ) {\r\n      this.error = 'Please select an account';\r\n      return;\r\n    }\r\n\r\n    if (\r\n      this.newTransaction.type === 'transfer' &&\r\n      (!this.newTransaction.from_account_id ||\r\n        !this.newTransaction.to_account_id)\r\n    ) {\r\n      this.error = 'Please select both accounts for transfer';\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.error = '';\r\n\r\n    this.tx.create(this.newTransaction).subscribe({\r\n      next: () => {\r\n        this.newTransaction = {\r\n          type: '',\r\n          amount: 0,\r\n          account_id: '',\r\n          from_account_id: '',\r\n          to_account_id: '',\r\n          category: '',\r\n          notes: '',\r\n        };\r\n        this.loading = false;\r\n        this.loadTransactions();\r\n        this.loadAccounts();\r\n      },\r\n      error: (err) => {\r\n        this.error = err.error?.message || 'Failed to add transaction';\r\n        this.loading = false;\r\n        console.error(err);\r\n      },\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}