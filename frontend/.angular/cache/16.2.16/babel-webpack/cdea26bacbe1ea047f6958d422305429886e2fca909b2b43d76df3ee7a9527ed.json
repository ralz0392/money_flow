{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/accounts.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AccountsComponent_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction AccountsComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 19);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const a_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r2.type === \"debit\" ? \"D\\u00E9bito\" : \"Cr\\u00E9dito\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 3, a_r2.balance));\n  }\n}\nexport class AccountsComponent {\n  constructor(accountsService) {\n    this.accountsService = accountsService;\n    this.accounts = [];\n    this.newAccount = {\n      name: '',\n      type: '',\n      balance: 0\n    };\n    this.loading = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.loadAccounts();\n  }\n  loadAccounts() {\n    this.accountsService.list().subscribe(list => this.accounts = list);\n  }\n  addAccount() {\n    if (!this.newAccount.name || !this.newAccount.type) {\n      this.error = 'El nombre y el tipo son obligatorios';\n      return;\n    }\n    this.loading = true;\n    this.error = '';\n    this.accountsService.create(this.newAccount).subscribe({\n      next: () => {\n        this.newAccount = {\n          name: '',\n          type: '',\n          balance: 0\n        };\n        this.loading = false;\n        this.loadAccounts();\n      },\n      error: err => {\n        this.error = 'Error al crear la cuenta';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function AccountsComponent_Factory(t) {\n      return new (t || AccountsComponent)(i0.ɵɵdirectiveInject(i1.AccountsService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AccountsComponent,\n      selectors: [[\"app-accounts\"]],\n      decls: 32,\n      vars: 7,\n      consts: [[1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"type\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [\"value\", \"debit\"], [\"value\", \"credit\"], [\"type\", \"number\", \"name\", \"balance\", \"step\", \"0.01\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"text-danger ms-2\", 4, \"ngIf\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-danger\", \"ms-2\"], [1, \"list-group-item\"], [1, \"badge\", \"bg-secondary\", \"ms-2\"], [1, \"float-end\"]],\n      template: function AccountsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\");\n          i0.ɵɵtext(1, \"Cuentas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1);\n          i0.ɵɵtext(4, \"Agregar Nueva Cuenta\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 2)(6, \"form\", 3);\n          i0.ɵɵlistener(\"ngSubmit\", function AccountsComponent_Template_form_ngSubmit_6_listener() {\n            return ctx.addAccount();\n          });\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\n          i0.ɵɵtext(9, \"Nombre de la Cuenta\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function AccountsComponent_Template_input_ngModelChange_10_listener($event) {\n            return ctx.newAccount.name = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\", 5);\n          i0.ɵɵtext(13, \"Tipo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"select\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function AccountsComponent_Template_select_ngModelChange_14_listener($event) {\n            return ctx.newAccount.type = $event;\n          });\n          i0.ɵɵelementStart(15, \"option\", 8);\n          i0.ɵɵtext(16, \"Seleccionar Tipo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"option\", 9);\n          i0.ɵɵtext(18, \"D\\u00E9bito\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"option\", 10);\n          i0.ɵɵtext(20, \"Cr\\u00E9dito\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 4)(22, \"label\", 5);\n          i0.ɵɵtext(23, \"Saldo Inicial\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function AccountsComponent_Template_input_ngModelChange_24_listener($event) {\n            return ctx.newAccount.balance = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"button\", 12);\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(27, AccountsComponent_span_27_Template, 2, 1, \"span\", 13);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(28, \"h3\");\n          i0.ɵɵtext(29, \"Tus Cuentas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"div\", 14);\n          i0.ɵɵtemplate(31, AccountsComponent_div_31_Template, 8, 5, \"div\", 15);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngModel\", ctx.newAccount.name);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.newAccount.type);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngModel\", ctx.newAccount.balance);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Creando...\" : \"Crear Cuenta\", \" \");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.accounts);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i2.CurrencyPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","a_r2","name","type","ɵɵpipeBind1","balance","AccountsComponent","constructor","accountsService","accounts","newAccount","loading","ngOnInit","loadAccounts","list","subscribe","addAccount","create","next","err","console","ɵɵdirectiveInject","i1","AccountsService","selectors","decls","vars","consts","template","AccountsComponent_Template","rf","ctx","ɵɵlistener","AccountsComponent_Template_form_ngSubmit_6_listener","AccountsComponent_Template_input_ngModelChange_10_listener","$event","AccountsComponent_Template_select_ngModelChange_14_listener","AccountsComponent_Template_input_ngModelChange_24_listener","ɵɵtemplate","AccountsComponent_span_27_Template","AccountsComponent_div_31_Template","ɵɵproperty","ɵɵtextInterpolate1"],"sources":["C:\\development\\money_flow\\frontend\\src\\app\\pages\\accounts\\accounts.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AccountsService } from '../../core/services/accounts.service';\r\n\r\n@Component({\r\n  selector: 'app-accounts',\r\n  template: `\r\n    <h1>Cuentas</h1>\r\n    \r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-header\">Agregar Nueva Cuenta</div>\r\n      <div class=\"card-body\">\r\n        <form (ngSubmit)=\"addAccount()\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">Nombre de la Cuenta</label>\r\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"newAccount.name\" name=\"name\" required>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">Tipo</label>\r\n            <select class=\"form-select\" [(ngModel)]=\"newAccount.type\" name=\"type\" required>\r\n              <option value=\"\">Seleccionar Tipo</option>\r\n              <option value=\"debit\">Débito</option>\r\n              <option value=\"credit\">Crédito</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">Saldo Inicial</label>\r\n            <input type=\"number\" class=\"form-control\" [(ngModel)]=\"newAccount.balance\" name=\"balance\" step=\"0.01\">\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loading\">\r\n            {{ loading ? 'Creando...' : 'Crear Cuenta' }}\r\n          </button>\r\n          <span *ngIf=\"error\" class=\"text-danger ms-2\">{{ error }}</span>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n    <h3>Tus Cuentas</h3>\r\n    <div class=\"list-group\">\r\n      <div class=\"list-group-item\" *ngFor=\"let a of accounts\">\r\n        <strong>{{ a.name }}</strong>\r\n        <span class=\"badge bg-secondary ms-2\">{{ a.type === 'debit' ? 'Débito' : 'Crédito' }}</span>\r\n        <span class=\"float-end\">{{ a.balance | currency }}</span>\r\n      </div>\r\n    </div>\r\n  `,\r\n})\r\nexport class AccountsComponent implements OnInit {\r\n  accounts: any[] = [];\r\n  newAccount = { name: '', type: '', balance: 0 };\r\n  loading = false;\r\n  error = '';\r\n\r\n  constructor(private accountsService: AccountsService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadAccounts();\r\n  }\r\n\r\n  loadAccounts() {\r\n    this.accountsService.list().subscribe((list) => (this.accounts = list));\r\n  }\r\n\r\n  addAccount() {\r\n    if (!this.newAccount.name || !this.newAccount.type) {\r\n      this.error = 'El nombre y el tipo son obligatorios';\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    this.error = '';\r\n    this.accountsService.create(this.newAccount).subscribe({\r\n      next: () => {\r\n        this.newAccount = { name: '', type: '', balance: 0 };\r\n        this.loading = false;\r\n        this.loadAccounts();\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Error al crear la cuenta';\r\n        this.loading = false;\r\n        console.error(err);\r\n      },\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}